<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>图片抖动</title>
    <style>
      img {
        position: absolute; top: 200px; left:500px;
      }
    </style>
    <script>
      window.onload=function () {
        var oImg = document.getElementById("img1");
        oImg.onclick=function () {
          var pos = parseInt(getStyle(oImg, 'left'));
          var timer = null;
          var num=0;
          var arr = [];
          for(var i=20; i>0; i-=2) {
            arr.push(i, -i);  // 抖动数组
          }
          // 创建定时器
          clearInterval(timer);
          timer = setInterval(function(){
            if(num == arr.length) {
              clearInterval(timer);
              num=0;
            }
            oImg.style.left = pos + arr[num++] + 'px';
          }, 20);
        };
      };

      function getStyle(obj, attr) {
        return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle(obj)[attr];
      }
    </script>
  </head>
  <body>
    <img id="img1" src="../CSS/image/image1.jpg" />
  </body>
</html>
